#Scripts to run a LOCA analysis

"""" 
Author: Ramiro MENA-ANDRADE (ramiro.francisco.mena.andrade@cern.ch)
Date: 2022/12/09

Citation:
R.Mena, R. Franqueira Ximenes, M.Calviani, Loss-of-Coolant-accident-study for the Beam Dump Facility at CERN, 
NURETH-19 Conference 2022.

""""
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
This script contains the files to run a complete analysis for a Loss-of-Coolant-accident (LOCA) for the
BDF target.

It is composed by the following files

00_main_script.py: runs the whole analysis (to be executed in Ansys Workbench File/Scripting/Run Script File...
01_geometry_blocks.py: parameteric definition of the BDF target blocks (in case of modification, use SpaceClaim)
02_mesh_blocks.py: definition of the mesh for the subsequent subsystems
03_thermal_steady_blocks.py: definition of the steady temperature profile under nominal conditions (requires to load a csv file)
04_thermal_transient_blocks.py: definition of the transient temperature profile under LOCA conditions (natural convection)
05_static_structural_blocks.py: definition of the thermal stresses generated after a thermal step

Limitations:
1. The external file imports a Heat Generation load. It must be defined manually in the steady thermal step.
2. For the geometry in general:
   - most of the features in the geometry script are generated by using indexes of the features (e.g. edges, surfaces)
   - in case of an important modification, the new indexes must be provided manually (it should be better to use Filters)
   - the geometry is oriented along the x axis (longitudinal) instead of the Z axis of the Fluka files
3. The Fluka files are loaded by using the Fluka Plugin (J.Maestre 2021). To complete the set up you need to manually insert:
   - The location of the Fluka files (.lis) needs to be modified manually in the 04_thermal_transient_blocks.py file (if different files are applied)
   - The named selection where the load is applied (e.g Load Table\Geometry Selection\Named Selection\...)
   - The time Factor (e.g Load Table\Definition\TimeDependent\ Click and put 1 as Factor, then click Apply)
4. The published data only contains two cases for the Fluka files (for size limitations)
   For the complete Fluka files, contact the author or Rui Franqueira Ximenes (rui.franqueira.ximenes@cern.ch)
